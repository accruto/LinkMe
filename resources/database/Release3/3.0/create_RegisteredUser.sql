--  -------------------------------------------------- 
--  Generated by Enterprise Architect Version 7.0.817
--  Created On : Wednesday, 31 October, 2007 
--  DBMS       : SQL Server 2000 
--  -------------------------------------------------- 

IF EXISTS (SELECT * FROM dbo.SYSOBJECTS WHERE id = object_id('RegisteredUser') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE RegisteredUser
GO

CREATE TABLE RegisteredUser ( 
	id uniqueidentifier NOT NULL,
	loginId EmailAddress NOT NULL,    -- The type is "EmailAddress", because the default loginId for Members is their email address. 
	createdTime datetime NOT NULL,
	emailAddress EmailAddress NOT NULL,
	firstName PersonName NOT NULL,
	lastName PersonName NOT NULL,
	flags UserFlags NOT NULL,
	passwordHash PasswordHash NOT NULL
)
GO

CREATE UNIQUE INDEX UQ_RegisteredUser_loginId
ON RegisteredUser (loginId ASC)
GO

CREATE INDEX IX_RegisteredUser_firstName
ON RegisteredUser (firstName ASC)
GO

CREATE INDEX IX_RegisteredUser_lastName
ON RegisteredUser (lastName ASC)
GO

ALTER TABLE RegisteredUser ADD CONSTRAINT PK_RegisteredUser 
	PRIMARY KEY CLUSTERED (id)
GO


EXEC sp_addextendedproperty 'MS_Description', 'The type is "EmailAddress", because the default loginId for Members is their email address.', 'User', dbo, 'table', RegisteredUser, 'column', loginId
GO







