--   -------------------------------------------------- 
--   Generated by Enterprise Architect Version 7.0.813
--   Created On : Thursday, 12 July, 2007 
--   DBMS       : SQL Server 2000 
--   -------------------------------------------------- 

IF EXISTS (SELECT * FROM dbo.SYSOBJECTS WHERE id = object_id('ReferenceRequest') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE ReferenceRequest
GO

CREATE TABLE ReferenceRequest ( 
	id uniqueidentifier NOT NULL,
	refereeEmailAddress EmailAddress NULL,
	relationship RefereeRelationship NOT NULL,
	senderId uniqueidentifier NOT NULL,
	refereeId uniqueidentifier NULL
)
GO

ALTER TABLE ReferenceRequest ADD CONSTRAINT PK_ReferenceRequest 
	PRIMARY KEY CLUSTERED (id)
GO

ALTER TABLE ReferenceRequest ADD CONSTRAINT FK_ReferenceRequest_RefereeNetworker 
	FOREIGN KEY (refereeId) REFERENCES Networker (id)
GO

ALTER TABLE ReferenceRequest ADD CONSTRAINT FK_ReferenceRequest_SenderNetworker 
	FOREIGN KEY (senderId) REFERENCES Networker (id)
GO

ALTER TABLE ReferenceRequest ADD CONSTRAINT FK_ReferenceRequest_UserToUserRequest 
	FOREIGN KEY (id) REFERENCES UserToUserRequest (id)
GO






