--  -------------------------------------------------- 
--  Generated by Enterprise Architect Version 7.0.816
--  Created On : Monday, 10 September, 2007 
--  DBMS       : SQL Server 2000 
--  -------------------------------------------------- 

IF EXISTS (SELECT * FROM dbo.SYSOBJECTS WHERE id = object_id('NetworkerEvent') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE NetworkerEvent
GO

CREATE TABLE NetworkerEvent ( 
	id uniqueidentifier NOT NULL,
	time datetime NOT NULL,
	type NetworkerEventType NOT NULL,
	actorId uniqueidentifier NOT NULL,
	actionedNetworkerId uniqueidentifier NULL
)
GO

ALTER TABLE NetworkerEvent ADD CONSTRAINT PK_NetworkerEvent 
	PRIMARY KEY CLUSTERED (id)
GO

ALTER TABLE NetworkerEvent ADD CONSTRAINT FK_NetworkerEvent_ActorNetworker 
	FOREIGN KEY (actorId) REFERENCES Networker (id)
GO

ALTER TABLE NetworkerEvent ADD CONSTRAINT FK_NetworkerEvent_Networker 
	FOREIGN KEY (actionedNetworkerId) REFERENCES Networker (id)
GO






