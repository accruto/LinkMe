--   -------------------------------------------------- 
--   Generated by Enterprise Architect Version 6.1.792
--   Created On : Thursday, 14 September, 2006 
--   DBMS       : SQL Server 2000 
--   -------------------------------------------------- 

IF EXISTS (SELECT * FROM dbo.SYSOBJECTS WHERE id = object_id('linkme_owner.JobSearch') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE linkme_owner.JobSearch
GO

CREATE TABLE linkme_owner.JobSearch ( 
	id uniqueidentifier NOT NULL,
	context varchar(30) NOT NULL,
	duration bigint NOT NULL,
	startTime datetime NOT NULL,
	searcherId varchar(50),
	criteriaSetId uniqueidentifier NOT NULL,
	resultSetId uniqueidentifier NOT NULL
)
GO

ALTER TABLE linkme_owner.JobSearch
	ADD CONSTRAINT UQ_JobSearch_resultSetId UNIQUE (resultSetId)
GO

ALTER TABLE linkme_owner.JobSearch ADD CONSTRAINT PK_JobSearch 
	PRIMARY KEY (id)
GO

ALTER TABLE linkme_owner.JobSearch ADD CONSTRAINT FK_JobSearch_JobSearchCriteriaSet 
	FOREIGN KEY (criteriaSetId) REFERENCES linkme_owner.JobSearchCriteriaSet (id)
GO

ALTER TABLE linkme_owner.JobSearch ADD CONSTRAINT FK_JobSearch_JobSearchResultSet 
	FOREIGN KEY (resultSetId) REFERENCES linkme_owner.JobSearchResultSet (id)
GO

ALTER TABLE linkme_owner.JobSearch ADD CONSTRAINT FK_JobSearch_networker_profile 
	FOREIGN KEY (searcherId) REFERENCES linkme_owner.networker_profile (id)
GO








