--   -------------------------------------------------- 
--   Generated by Enterprise Architect Version 6.1.792
--   Created On : Thursday, 14 September, 2006 
--   DBMS       : SQL Server 2000 
--   -------------------------------------------------- 

IF EXISTS (SELECT * FROM dbo.SYSOBJECTS WHERE id = object_id('linkme_owner.ProductGrant') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE linkme_owner.ProductGrant
GO

CREATE TABLE linkme_owner.ProductGrant ( 
	id uniqueidentifier NOT NULL,
	dateTime datetime NOT NULL,
	expiryDate datetime NOT NULL,
	notes nvarchar(3000) NOT NULL,
	quantity int NOT NULL,
	productDefinitionId uniqueidentifier NOT NULL,
	grantedById varchar(50) NOT NULL,
	grantedToId varchar(50) NOT NULL,
	reasonId uniqueidentifier NOT NULL
)
GO

ALTER TABLE linkme_owner.ProductGrant ADD CONSTRAINT PK_ProductGrant 
	PRIMARY KEY (id)
GO

ALTER TABLE linkme_owner.ProductGrant ADD CONSTRAINT FK_ProductGrant_administrator_profile 
	FOREIGN KEY (grantedById) REFERENCES linkme_owner.administrator_profile (id)
GO

ALTER TABLE linkme_owner.ProductGrant ADD CONSTRAINT FK_ProductGrant_ProductDefinition 
	FOREIGN KEY (productDefinitionId) REFERENCES linkme_owner.ProductDefinition (id)
GO

ALTER TABLE linkme_owner.ProductGrant ADD CONSTRAINT FK_ProductGrant_ProductGrantReason 
	FOREIGN KEY (reasonId) REFERENCES linkme_owner.ProductGrantReason (id)
GO

ALTER TABLE linkme_owner.ProductGrant ADD CONSTRAINT FK_ProductGrant_user_profile 
	FOREIGN KEY (grantedToId) REFERENCES linkme_owner.user_profile (id)
GO










