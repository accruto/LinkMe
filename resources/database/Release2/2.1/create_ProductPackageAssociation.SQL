--   -------------------------------------------------- 
--   Generated by Enterprise Architect Version 6.1.792
--   Created On : Thursday, 14 September, 2006 
--   DBMS       : SQL Server 2000 
--   -------------------------------------------------- 

IF EXISTS (SELECT * FROM dbo.SYSOBJECTS WHERE id = object_id('linkme_owner.ProductPackageAssociation') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE linkme_owner.ProductPackageAssociation
GO

CREATE TABLE linkme_owner.ProductPackageAssociation ( 
	id uniqueidentifier NOT NULL,
	quantity int NOT NULL,
	packageDefinitionId uniqueidentifier NOT NULL,
	includedProductDefinitionId uniqueidentifier NOT NULL
)
GO

ALTER TABLE linkme_owner.ProductPackageAssociation
	ADD CONSTRAINT UQ_ProductPackageAssociation_Package_IncludedProduct UNIQUE (packageDefinitionId, includedProductDefinitionId)
GO

ALTER TABLE linkme_owner.ProductPackageAssociation ADD CONSTRAINT PK_ProductPackageAssociation 
	PRIMARY KEY (id)
GO

ALTER TABLE linkme_owner.ProductPackageAssociation ADD CONSTRAINT FK_ProductPackageAssociation_IncludedProductDefinition 
	FOREIGN KEY (includedProductDefinitionId) REFERENCES linkme_owner.ProductDefinition (id)
GO

ALTER TABLE linkme_owner.ProductPackageAssociation ADD CONSTRAINT FK_ProductPackageAssociation_PackageDefinition 
	FOREIGN KEY (packageDefinitionId) REFERENCES linkme_owner.ProductDefinition (id)
GO





