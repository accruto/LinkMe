--   -------------------------------------------------- 
--   Generated by Enterprise Architect Version 6.1.792
--   Created On : Thursday, 14 September, 2006 
--   DBMS       : SQL Server 2000 
--   -------------------------------------------------- 

IF EXISTS (SELECT * FROM dbo.SYSOBJECTS WHERE id = object_id('linkme_owner.CreditCardPayment') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE linkme_owner.CreditCardPayment
GO

CREATE TABLE linkme_owner.CreditCardPayment ( 
	id uniqueidentifier NOT NULL,
	gatewayTransactionId varchar(30) NOT NULL,
	lastFourDigits char(4) NOT NULL,
	surchargeAmount money NOT NULL,
	creditCardTypeId uniqueidentifier NOT NULL
)
GO

ALTER TABLE linkme_owner.CreditCardPayment
	ADD CONSTRAINT UQ_CreditCardPayment_gatewayTransactionId UNIQUE (gatewayTransactionId)
GO

ALTER TABLE linkme_owner.CreditCardPayment ADD CONSTRAINT PK_CreditCardPayment 
	PRIMARY KEY (id)
GO

ALTER TABLE linkme_owner.CreditCardPayment ADD CONSTRAINT FK_CreditCardPayment_Payment 
	FOREIGN KEY (id) REFERENCES linkme_owner.Payment (id)
GO

ALTER TABLE linkme_owner.CreditCardPayment ADD CONSTRAINT FK_CreditCardPayment_CreditCardType 
	FOREIGN KEY (creditCardTypeId) REFERENCES linkme_owner.CreditCardType (id)
GO






